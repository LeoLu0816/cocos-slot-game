System.register("chunks:///main.js",["cc"],(function(){"use strict";var t,e,n,i,o,r,s,a,l,u,c;return{setters:[function(h){t=h.cclegacy,e=h._decorator,n=h.Animation,i=h.Component,o=h.Node,r=h.Prefab,s=h.UITransform,a=h.Label,l=h.instantiate,u=h.Color,c=h.Button}],execute:function(){function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var y;t._RF.push({},"20685BH6QNBx69jaRgqCrDV","moveControll",void 0);var C,S,w,_,N,O,z,R,A,E=e.ccclass,L=(e.property,E("moveControll")(y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return p(g(e=t.call.apply(t,[this].concat(i))||this),"isStop",!1),e}b(e,t);var i=e.prototype;return i.start=function(){},i.onMove1Done=function(){var t=this.node.getComponent(n);this.isStop||t.play("move2")},i.onMove2Done=function(){this.node.getComponent(n).play(this.isStop?"moveStop":"move1")},i.setStart=function(){this.isStop=!1;var t=this.node.getComponent(n),e=this.node.getPosition().y;t.play(600===e?"move1":"move2")},i.setStop=function(){this.isStop=!0},e}(i))||y);t._RF.pop(),t._RF.push({},"a045fWHJltLzaFqWoLBJyyl","slotControll",void 0);var T,I,j,H,D,G,M,P,k,x,F,B,U,W,Y,q,J,Q,V,Z,K,X,$,tt=e.ccclass,et=e.property,nt=(C=tt("slotControll"),S=et(o),w=et(o),_=et(r),C((z=v((O=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return d(g(e=t.call.apply(t,[this].concat(i))||this),"content1",z,g(e)),d(g(e),"content2",R,g(e)),d(g(e),"item",A,g(e)),p(g(e),"contentHeight",0),p(g(e),"randomArr",[]),p(g(e),"_victoryOdds",1),e}b(e,t);var n=e.prototype;return n.getTotalCount=function(){return this.contentHeight/(100*this.victoryOdds)},n.resetArr=function(){this.randomArr=[];for(var t=0;t<this.victoryOdds;t++){var e;(e=this.randomArr).push.apply(e,this.numbers)}},n.onLoad=function(){this.contentHeight=this.content1.getComponent(s).contentSize.height,this.initLabel(),this.resetArr(),this.updateNumber()},n.start=function(){},n.setStart=function(t,e){var n=this,i=this.content1.getComponent(L),o=this.content2.getComponent(L);i.setStart(),o.setStart(),setTimeout((function(){n.resetColor()}),500),this.resetArr(),this.randomSort(),this.updateNumber(!0),this.getSlotNumbers(),setTimeout((function(){n.setStop(),setTimeout((function(){e&&e()}),1250)}),t),this.victoryOdds++},n.getSlotNumbers=function(){return this.randomArr.slice(0,4)},n.setStop=function(){this.content1.getComponent(L).setStop(),this.content2.getComponent(L).setStop()},n.randomSort=function(){this.randomArr.sort((function(){return.5-Math.random()}))},n.updateNumber=function(t){var e=this;void 0===t&&(t=!1);for(var n=this.content1.children.length,i=t?4:0;i<n;i++)this.setLabelStr(this.content1.children[i],this.randomArr[i]),this.setLabelStr(this.content2.children[i],this.randomArr[i]);t&&setTimeout((function(){for(var t=0;t<4;t++)e.setLabelStr(e.content1.children[t],e.randomArr[t]),e.setLabelStr(e.content2.children[t],e.randomArr[t])}),400)},n.setLabelStr=function(t,e){var n="0"+e;t.getComponent(a).string=n.substring(n.length-2)},n.initLabel=function(){for(var t=0;t<16;t++)this.content1.addChild(this.getNewNode(t)),this.content2.addChild(this.getNewNode(t))},n.getNewNode=function(t){var e=l(this.item);return e.setPosition(0,-1*this.contentHeight/2+50+100*t),e},n.resetColor=function(){this.content1.children.forEach((function(t){t.getComponent(a).color=u.WHITE})),this.content2.children.forEach((function(t){t.getComponent(a).color=u.WHITE}))},n.setColor=function(t,e){var n=function(n){(parseInt(n.getComponent(a).string,10)||0)===t&&(n.getComponent(a).color=e)};this.content1.children.forEach(n),this.content2.children.forEach(n)},f(e,[{key:"numbers",get:function(){for(var t=[],e=1;e<=Math.ceil(this.getTotalCount());e++)t.push(e);return t}},{key:"victoryOdds",get:function(){return this._victoryOdds},set:function(t){this._victoryOdds=t>4?4:t}}]),e}(i)).prototype,"content1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=v(O.prototype,"content2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=v(O.prototype,"item",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=O))||N);t._RF.pop(),t._RF.push({},"8a5e2SA0ZpL0YOBYUcdYxse","gameControll",void 0);var it=e.ccclass,ot=e.property;T=it("gameControll"),I=ot(o),j=ot(o),H=ot(o),D=ot(o),G=ot(o),M=ot(c),P=ot(c),k=ot(a),x=ot(a),F=ot(a),T((W=v((U=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return d(g(e=t.call.apply(t,[this].concat(i))||this),"slot1",W,g(e)),d(g(e),"slot2",Y,g(e)),d(g(e),"slot3",q,g(e)),d(g(e),"slot4",J,g(e)),d(g(e),"slot5",Q,g(e)),d(g(e),"btnStart",V,g(e)),d(g(e),"btnReset",Z,g(e)),d(g(e),"game_info",K,g(e)),d(g(e),"number_info",X,g(e)),d(g(e),"rate_star",$,g(e)),p(g(e),"_isRuning",!1),p(g(e),"slotNumbers",[]),p(g(e),"slotCtrls",[]),e}b(e,t);var n=e.prototype;return n.start=function(){var t=this;this.slotCtrls=[this.slot1.getComponent(nt),this.slot2.getComponent(nt),this.slot3.getComponent(nt),this.slot4.getComponent(nt),this.slot5.getComponent(nt)],this.btnStart.node.on(o.EventType.TOUCH_END,(function(){t.isRuning||(t.isRuning=!0,t.startGame())})),this.btnReset.node.on(o.EventType.TOUCH_END,(function(){t.isRuning||t.resetGame()})),this.updateGameInfo()},n.resetGame=function(){this.slotCtrls.forEach((function(t){t.victoryOdds=1})),this.updateGameInfo()},n.startGame=function(){var t=this;this.updateGameInfo(),this.setInfoMsg("開獎中"),this.slotNumbers=[],this.slotCtrls.forEach((function(e,n){e.setStart(3e3+1e3*n),t.slotNumbers.push(e.getSlotNumbers())})),setTimeout((function(){t.onSlotDone()}),8e3)},n.calcLine=function(){var t=this.slotNumbers[0],e=!1,n=-1,i=0,o=0,r=0,s=0,a=0;for(i=0;i<t.length;i++){var l=t[i];if(o=this.slotNumbers[1].indexOf(l),r=this.slotNumbers[2].indexOf(l),s=this.slotNumbers[3].indexOf(l),a=this.slotNumbers[4].indexOf(l),o>=0&&r>=0&&s>=0&&a>=0){n=l,e=!0;break}}if(e){var u="0"+n;u=u.substring(u.length-2),this.setInfoMsg("恭喜連線 "+u),this.showLine(n)}else this.setInfoMsg("號碼未連線")},n.onSlotDone=function(){this.calcLine(),this.isRuning=!1},n.setInfoMsg=function(t){this.game_info.string=t},n.updateGameInfo=function(){var t=this.slotCtrls[0],e=t.numbers;this.number_info.string=""+e.join(",");var n=(Array(t.victoryOdds).fill("★").join("")+"☆☆☆☆☆").substring(0,4);this.rate_star.string=n},n.showLine=function(t){this.slotCtrls.forEach((function(e){e.setColor(t,u.RED)}))},f(e,[{key:"isRuning",get:function(){return this._isRuning},set:function(t){this._isRuning=t,this.btnReset.interactable=!t,this.btnStart.interactable=!t}}]),e}(i)).prototype,"slot1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=v(U.prototype,"slot2",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=v(U.prototype,"slot3",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=v(U.prototype,"slot4",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=v(U.prototype,"slot5",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=v(U.prototype,"btnStart",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=v(U.prototype,"btnReset",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=v(U.prototype,"game_info",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=v(U.prototype,"number_info",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=v(U.prototype,"rate_star",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=U));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});